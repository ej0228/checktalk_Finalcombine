# ===============================
# 애플리케이션 공통설정
# ===============================


spring.config.import=optional:env[.env]


# ===============================
# 스프링 프로필 설정
# ===============================
# 현재 활성화된 프로필 지정(개발 시 dev, 배포 시 prod로 변경)
# - 이 설정에 따라 @Profile("local") 등이 적용됩니다.
# - 개발 환경에서는 local, 운영 환경에서는 prod 등으로 변경 가능
# - init/ 디렉터리의 더미 데이터 삽입 컴포넌트들은 local 프로필에서만 동작합니다.
spring.profiles.active=prod

# 애플리케이션 이름 (Spring Boot Actuator 등에서 사용 가능)
spring.application.name=checktalk

# 서버 포트 설정 (기본값은 8080 → 여기선 8090으로 변경됨)
server.port=8045


# 파일 업로드 용량 제한
spring.servlet.multipart.max-file-size=1MB
spring.servlet.multipart.max-request-size=5MB

# 경로 패턴 오류 해결 설정 (Spring Boot 3 이상)
spring.mvc.pathmatch.matching-strategy=ant_path_matcher

# 세션 시간
server.servlet.session.timeout=1h

# JPA 공통 설정
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.data.jpa.repositories.enabled=true

# DB 공통 설정
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# 메일 설정 (Gmail)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.default-encoding=UTF-8

# 한국 시간 적용 (로컬 개발 중에도 정확한 시간 확인 가능)
spring.jackson.time-zone=Asia/Seoul
spring.mvc.timezone=Asia/Seoul


# ===============================
# FastAPI 서버 주소
# ===============================
fastapi.url=http://127.0.0.1:8046/analyze